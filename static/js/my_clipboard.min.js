new ClipboardJS("button",{target:function(a){return a.parentElement.nextElementSibling}});var app=new Vue({el:"#app",data:{str:"",entryHeight:100,clipboardList:[],focusIndex:null,resize:{startY:null}},methods:{textareaFocus:function(a){a.target.select()},onChange:function(a){console.log(a)},initHeight:function(){var a=this;this.clipboardList.forEach(function(d,c){if(!d.height){var b=a.$refs["tx"+c][0].offsetHeight;a.$set(a.clipboardList[c],"height",b)}})},add:function(){if(this.str){this.clipboardList.unshift({text:this.str});this.saveData()}},remove:function(a){this.clipboardList.splice(a,1);this.saveData()},update:function(b,a){this.clipboardList[b].text=a.target.value;this.saveData()},saveData:function(){localStorage.clipboardList=JSON.stringify(this.clipboardList)},resizeDown:function(b,a){this.focusIndex=a;this.resize.startY=b.clientY}},mounted:function(){var b=this;var a=null;window.onmousemove=function(d){if(b.focusIndex!=undefined){var c=d.clientY-b.resize.startY;if(!a){a=c}var e=b.$refs["tx"+b.focusIndex][0].offsetHeight;b.$set(b.clipboardList[b.focusIndex],"height",e+(c-a));a=c}else{a=null}};window.onmouseup=function(){b.focusIndex=null;b.saveData()};b.initHeight()},created:function(){this.clipboardList=JSON.parse(localStorage.clipboardList||"[]");console.log("localStorage.list, 请注意保存！ "+JSON.parse(localStorage.list))}});